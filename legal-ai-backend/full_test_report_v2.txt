
> legal-ai-backend@1.0.0 test
> node --experimental-vm-modules node_modules/jest/bin/jest.js --verbose --no-color

  console.log
    [dotenv@17.2.3] injecting env (4) from .env -- tip: ✅ audit secrets and track compliance: https://dotenvx.com/ops

      at _log (node_modules/dotenv/lib/main.js:142:11)

(node:6604) ExperimentalWarning: VM Modules is an experimental feature and might change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
PASS tests/wallet.test.js
  Wallet API Tests
    POST /create-order
      √ should create an order successfully (45 ms)
      √ should fail with invalid amount (5 ms)
    POST /verify-payment
      √ should verify payment successfully with valid signature (6 ms)
      √ should reject payment with invalid signature (4 ms)
    GET /balance/:userId
      √ should return user balance (5 ms)
      √ should return 404 for unknown user (4 ms)

  console.log
    [dotenv@17.2.3] injecting env (4) from .env -- tip: ⚙️  load multiple .env files with { path: ['.env.local', '.env'] }

      at _log (node_modules/dotenv/lib/main.js:142:11)

PASS tests/auth.test.js
  Auth API - Industry Ready Tests
    POST /api/auth/register
      √ should return 400 for validation errors (missing fields) (23 ms)
      √ should return 400 if user already exists (6 ms)
      √ should return 201 on successful registration (6 ms)
    POST /api/auth/login
      √ should return 401 for invalid credentials (4 ms)
      √ should return 404 for non-existent user (4 ms)
      √ should return 200 and token for valid credentials (4 ms)

PASS tests/chat.test.js
  Chat API Automated Tests
    √ POST /api/chat - Should return legal advice successfully (26 ms)
    √ POST /api/chat - Should reject missing message (8 ms)

PASS tests/health.test.js
  Health Check
    √ should return 200 OK (8 ms)

Test Suites: 4 passed, 4 total
Tests:       15 passed, 15 total
Snapshots:   0 total
Time:        1.296 s
Ran all test suites.
