/* Mobile First Portal Grid */
.pageWrapper {
    min-height: 100vh;
    background-color: #f8fafc;
    padding-bottom: 20px;
}

/* Header Section */
.header {
    background: linear-gradient(135deg, #4f46e5 0%, #3b82f6 100%);
    padding: 2rem 1rem 4rem;
    /* Extra bottom padding for search overlap */
    color: white;
    text-align: center;
    border-bottom-left-radius: 1.5rem;
    border-bottom-right-radius: 1.5rem;
    box-shadow: 0 10px 25px -5px rgba(59, 130, 246, 0.5);
    position: relative;
    margin-bottom: 3rem;
}

.headerTop {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1rem;
    width: 100%;
}

.langBtn {
    background: rgba(255, 255, 255, 0.2);
    border: 1px solid rgba(255, 255, 255, 0.3);
    border-radius: 8px;
    color: white;
    padding: 8px 12px;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 0.9rem;
    font-weight: 500;
    backdrop-filter: blur(10px);
    transition: background 0.2s;
}

@media (min-width: 768px) {
    .headerTop {
        flex-direction: row;
        justify-content: space-between;
        align-items: flex-start;
    }
}

.title {
    font-size: 1.75rem;
    font-weight: 800;
    margin-bottom: 0.5rem;
    letter-spacing: -0.025em;
}

.subtitle {
    font-size: 0.9rem;
    opacity: 0.9;
    max-width: 600px;
    margin: 0 auto;
    padding: 0 1rem;
}

/* Floating Search Bar */
.searchContainer {
    width: 90%;
    margin: -3.5rem auto 1rem;
    /* Pull up into header */
    position: relative;
    z-index: 10;
}

.searchWrapper {
    background: white;
    padding: 0.5rem;
    border-radius: 1rem;
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
    display: flex;
    align-items: center;
    border: 1px solid rgba(226, 232, 240, 0.8);
    transition: transform 0.2s, box-shadow 0.2s;
}

.searchWrapper:focus-within {
    transform: translateY(-2px);
    box-shadow: 0 25px 30px -5px rgba(0, 0, 0, 0.15);
    border-color: #6366f1;
}

.searchIcon {
    color: #9ca3af;
    margin-left: 0.75rem;
    font-size: 1.1rem;
}

.searchInput {
    flex: 1;
    border: none;
    padding: 0.75rem;
    font-size: 0.95rem;
    outline: none;
    background: transparent;
    color: #1f2937;
    width: 100%;
}

.clearButton {
    background: #f3f4f6;
    border: none;
    color: #6b7280;
    cursor: pointer;
    padding: 0.4rem;
    border-radius: 50%;
    margin-right: 0.5rem;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.9rem;
}

/* Category Filters */
.filtersContainer {
    margin-top: 1rem;
    padding: 0 1rem;
    overflow-x: auto;
    white-space: nowrap;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: none;
    /* Firefox */
    display: flex;
    gap: 0.75rem;
    padding-bottom: 1rem;
}

.filtersContainer::-webkit-scrollbar {
    display: none;
    /* Chrome/Safari */
}

.filterChip {
    display: inline-flex;
    align-items: center;
    padding: 0.5rem 1rem;
    border-radius: 9999px;
    font-size: 0.85rem;
    font-weight: 500;
    cursor: pointer;
    border: 1px solid #e2e8f0;
    background: white;
    color: #64748b;
    box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    flex-shrink: 0;
}

.filterChip.active {
    background: #4f46e5;
    color: white;
    border-color: #4f46e5;
}

/* Grid Layout */
.portalGrid {
    display: grid;
    grid-template-columns: 1fr;
    /* Mobile default */
    gap: 1.25rem;
    padding: 1rem;
    max-width: 1200px;
    margin: 0 auto;
}

/* Section Headers */
.sectionHeader {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin: 1.5rem auto 1rem;
    padding: 0 1rem;
    max-width: 1200px;
    color: #1e293b;
    font-weight: 700;
    font-size: 1.1rem;
}

.sectionIcon {
    color: #4f46e5;
}

/* Add Portal Form */
.addBtn {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 1rem;
    border-radius: 9999px;
    font-size: 0.8rem;
    font-weight: 600;
    cursor: pointer;
    background: #4f46e5;
    color: white;
    border: none;
    box-shadow: 0 4px 6px -1px rgba(79, 70, 229, 0.3);
}

.addFormContainer {
    width: 90%;
    margin: 1rem auto;
    padding: 1rem;
    background: white;
    border-radius: 1rem;
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
}

.addForm {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.addForm input {
    padding: 0.75rem;
    border: 1px solid #e2e8f0;
    border-radius: 0.5rem;
    font-size: 0.95rem;
    width: 100%;
}

.formActions {
    display: flex;
    gap: 0.75rem;
    justify-content: flex-end;
}

.saveBtn,
.cancelBtn {
    padding: 0.6rem 1rem;
    border-radius: 0.5rem;
    font-size: 0.9rem;
    font-weight: 500;
    cursor: pointer;
    border: none;
    flex: 1;
}

.saveBtn {
    background: #10b981;
    color: white;
}

.cancelBtn {
    background: #f3f4f6;
    color: #4b5563;
}

/* Desktop Upgrades */
@media (min-width: 640px) {
    .portalGrid {
        grid-template-columns: repeat(2, 1fr);
    }
}

@media (min-width: 1024px) {
    .header {
        padding: 2rem 1rem 3rem;
        border-bottom-left-radius: 2rem;
        border-bottom-right-radius: 2rem;
    }

    .title {
        font-size: 2.25rem;
    }

    .subtitle {
        font-size: 0.95rem;
    }

    .searchContainer {
        max-width: 600px;
        margin: 2rem auto -4.5rem;
        padding: 0 1rem;
    }

    .filtersContainer {
        margin-top: 6rem;
        justify-content: center;
        /* Center filters on desktop */
    }

    .portalGrid {
        grid-template-columns: repeat(3, 1fr);
        gap: 2rem;
    }

    .sectionHeader {
        font-size: 1.25rem;
        margin: 2rem auto 1rem;
    }

    .formActions .saveBtn,
    .formActions .cancelBtn {
        flex: 0 0 auto;
    }
}

/* Empty State */
.emptyState {
    text-align: center;
    padding: 4rem 1rem;
    color: #64748b;
}

.emptyIcon {
    font-size: 3rem;
    color: #cbd5e1;
    margin-bottom: 1rem;
}

/* Card Wrapper */
.cardWrapper {
    position: relative;
    transition: transform 0.2s;
}

.cardWrapper:hover {
    transform: translateY(-5px);
}

.deleteBtn {
    position: absolute;
    top: -10px;
    right: -10px;
    background: #ef4444;
    color: white;
    width: 30px;
    height: 30px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    border: none;
    cursor: pointer;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    /* Always visible on mobile if rendered, or keep opacity trick for touch? 
       Usually better to have visible 'edit' mode on mobile, but simple opacity hover works for cursor inputs.
       Touch devices don't hover well. */
    opacity: 0;
    transition: opacity 0.2s, transform 0.2s;
    z-index: 5;
}

@media (min-width: 1024px) {
    .cardWrapper:hover .deleteBtn {
        opacity: 1;
    }
}

/* Mobile specific for delete button: maybe always show or use a long press? 
   For simplicity, we'll make it visible on card focus or permanently on mobile if needed.
   Let's keep it hidden unless activated (maybe add a class via JS for edit mode).
   as a fallback, show it on active. */
.cardWrapper:active .deleteBtn {
    opacity: 1;
}